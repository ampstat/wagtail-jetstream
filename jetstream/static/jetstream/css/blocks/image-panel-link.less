.block-ImagePanelBlock {
  .image-panel-link {
    position: relative;
    width: auto;
    height: auto;
    display: inline-block;

    a.image-link {
      span {
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        z-index: 100;
      }
    }

    .image {
      display: block;
      position: relative;

    }

    &.top-level {
      display: block;

      img {
        width: 100%;
        height: auto;
      }
    }
  }
}

// For landscape-mode phones:
// rrollins 2017-10-19: Except, no, because these rules apply on portrait tablets, too. However, the behavior we get
// with these rules IS what we want, even though it's applying to more than we say it should be.
//
// cnk 2018-4-30: without the -1 below, all the images disappear (because their height is 0)
@media (min-width: @screen-phone)
        and (max-width: @screen-tablet - 1) {
  .block-ImagePanelBlock {
    .image-panel-link {
      width: 100%;
    }
    img {
      width: 100%;
      height: auto;
    }
  }
}

@media (max-width: @small_viewport) {
  .block-ImagePanelBlock {
    .image-panel-link {
      width: 100%;
    }

    img {
      width: 100%;
      height: auto;
    }
  }
}
