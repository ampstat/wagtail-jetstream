{% load static jetstream_tags wagtailimages_tags %}

<section id="{{ block.id }}-gallery" class="image-gallery-gallery clearfix" data-featherlight-gallery data-featherlight-filter="a">
  <div class="row clearfix">
    {% for img in self.images %}
      {% image img original as full_img %}
      <a class="gallery-item col-md-{{ bootstrap_column_width }}" href="{{ full_img.url }}">
        {% get_gallery_image_width as width %}
        {% responsive_image img 'fill' width self.height %}
        {% include 'jetstream/image_details.html' with image=img %}
      </a>
      {% if forloop.counter|divisibleby:self.columns and not forloop.last %}
        </div><div class="row clearfix">
      {% endif %}
    {% endfor %}
  </div>
</section>
